# ProjectDuck Application Configuration Example
# Copy this file to .env.local and adjust values as needed

# ===== Claude Code Configuration =====
# Enable Claude Code integration (default: false)
# Set to 'true' to enable Claude Code features (chat icon, ChatPanel, AI assistance)
# ENABLE_CLAUDE_CODE=false

# SSE stream buffer size limit in MB (default: 5MB)
# Increase this value if Claude responses are frequently truncated
CLAUDE_SSE_BUFFER_SIZE_MB=5

# Maximum Claude response size in MB (default: 10MB)
CLAUDE_MAX_RESPONSE_SIZE_MB=10

# Claude connection timeout in milliseconds (default: 30000 = 30 seconds)
CLAUDE_CONNECTION_TIMEOUT_MS=30000

# Number of retry attempts for Claude connections (default: 3)
CLAUDE_RETRY_ATTEMPTS=3

# ===== File Processing Configuration =====
# Maximum file size for content viewing in MB (default: 10MB)
MAX_FILE_SIZE_MB=10

# Maximum file size for preview in MB (default: 5MB)
MAX_PREVIEW_SIZE_MB=5

# File watch interval in milliseconds (default: 1000 = 1 second)
FILE_WATCH_INTERVAL_MS=1000

# Force polling mode for file watching (default: false)
# Only enable this if native file system events don't work in your environment
# (e.g., Docker volumes, network file systems like NFS/SMB)
# FORCE_POLLING=true

# ===== Security Configuration =====
# Enable path validation (default: true)
ENABLE_PATH_VALIDATION=true

# Allowed file extensions (comma-separated, default: common text files)
ALLOWED_EXTENSIONS=.md,.txt,.json,.js,.ts,.tsx,.jsx,.py,.css,.html,.xml,.yml,.yaml

# Blocked path patterns (comma-separated, default: common system directories)
BLOCKED_PATHS=node_modules,.git,.env,dist,build

# ===== Performance Configuration =====
# Enable file tree virtualization for large projects (default: false)
ENABLE_VIRTUALIZATION=false

# Virtualization threshold - number of files (default: 1000)
VIRTUALIZATION_THRESHOLD=1000

# API response cache max age in seconds (default: 300 = 5 minutes)
CACHE_MAX_AGE=300

# ===== Example Configuration Scenarios =====

# Development Environment (Claude Code enabled + relaxed limits)
# ENABLE_CLAUDE_CODE=true
# CLAUDE_SSE_BUFFER_SIZE_MB=10
# MAX_FILE_SIZE_MB=20
# ENABLE_VIRTUALIZATION=false

# Production Environment (Claude Code enabled + strict limits)
# ENABLE_CLAUDE_CODE=true
# CLAUDE_SSE_BUFFER_SIZE_MB=3
# MAX_FILE_SIZE_MB=5
# ENABLE_VIRTUALIZATION=true
# VIRTUALIZATION_THRESHOLD=500

# Large Project Environment (Claude Code enabled + performance optimized)
# ENABLE_CLAUDE_CODE=true
# CLAUDE_SSE_BUFFER_SIZE_MB=8
# MAX_FILE_SIZE_MB=15
# ENABLE_VIRTUALIZATION=true
# VIRTUALIZATION_THRESHOLD=200
# FILE_WATCH_INTERVAL_MS=2000

# File Browser Only Mode (default: Claude Code disabled)
# ENABLE_CLAUDE_CODE=false
